C51 COMPILER V9.56.0.0   BTM                                                               07/18/2024 20:40:21 PAGE 1   


C51 COMPILER V9.56.0.0, COMPILATION OF MODULE BTM
OBJECT MODULE PLACED IN .\Objects\BTM.obj
COMPILER INVOKED BY: E:\Keil_c51v956\C51\BIN\C51.EXE Device\BTM.c OPTIMIZE(8,SPEED) BROWSE INCDIR(.\Device;.\System;.\Li
                    -stings;.\Objects) DEBUG OBJECTEXTEND PRINT(.\Listings\BTM.lst) OBJECT(.\Objects\BTM.obj)

line level    source

   1          #include "BTM.h"
*** WARNING C323 IN LINE 1 OF Device\BTM.h: newline expected, extra characters found
*** WARNING C323 IN LINE 1 OF Device\BTM.h: newline expected, extra characters found
   2          
   3          //#define       KEY_NO 0
   4          //#define  KEY_DOWN 1
   5          //#define  KEY_UP 2 
   6          
   7          //总量 
   8          u16 total = 0;
   9          //总价
  10          u16 money =0;
  11          //传递
  12          u16 n;
  13          
  14          u8 m;
  15          
  16          void vBTN_Read_State(){
  17   1              static u8 key_state = 1;  //按键状态
  18   1              u8 key_io = P3 & 0X0f;   //P3 IO口的值
  19   1              static u8 key_val = 0;   //返回键值
  20   1              switch(key_state){
  21   2                      case KEY_NO:
  22   2                              if(key_io != 0x0f) key_state = KEY_DOWN;
  23   2                              break;
  24   2                      case KEY_DOWN:
  25   2                              if(key_io != 0x0f){
  26   3                                      if(key_io==0x0e) {                   //7 继电器开
  27   4                                                      vDeviceCtrl(0xa0,0x10);
  28   4                                                      m = 1;
  29   4                                      }
  30   3                                      if(key_io==0x0d) {
  31   4                                                      vDeviceCtrl(0xa0,0x00);
  32   4                                                      m = 0;
  33   4                                      }
  34   3      //                              if(key_io==0x0b) key_val = 5;
  35   3      //                              if(key_io==0x07) key_val = 4;
  36   3                                      key_state = KEY_UP;
  37   3                              }else{
  38   3                                      key_state = KEY_NO;
  39   3                              }
  40   2                              break;
  41   2                      case KEY_UP:
  42   2                              if(key_io == 0x0f){
  43   3                              key_state = KEY_NO;
  44   3                              break;
  45   3                              }
  46   2                                      
  47   2              }
  48   1      }
*** WARNING C280 IN LINE 19 OF Device\BTM.c: 'key_val': unreferenced local variable
  49          


C51 COMPILER V9.56.0.0   BTM                                                               07/18/2024 20:40:21 PAGE 2   

MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     77    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      9       1
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  3 WARNING(S),  0 ERROR(S)
